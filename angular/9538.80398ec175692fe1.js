"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[9538],{9538:(A,a,s)=>{s.r(a),s.d(a,{AttendanceModule:()=>b});var g=s(6895),u=s(7370),t=s(6738),p=s(2192),f=s(4981),d=s(4719);function _(e,i){if(1&e&&(t.TgZ(0,"option",12),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.Q6J("value",n),t.xp6(1),t.Oqu(n)}}function C(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"div",2)(1,"select",8,9),t.NdJ("change",function(){t.CHM(n);const c=t.MAs(2),l=t.oxw(),r=t.MAs(7);return t.KtG(l.getFilterStudent(r.value,c.value))}),t._UZ(3,"option",10),t.YNc(4,_,2,2,"option",11),t.qZA(),t.TgZ(5,"label"),t._uU(6,"Select LMS Course"),t.qZA()()}if(2&e){const n=t.oxw();t.xp6(4),t.Q6J("ngForOf",n.lmsCourseList)}}function h(e,i){if(1&e&&(t.TgZ(0,"p"),t._uU(1,"Total no. of students : "),t.TgZ(2,"strong"),t._uU(3),t.qZA()()),2&e){const n=t.oxw();t.xp6(3),t.Oqu(n.filterStudentList.length)}}const m=function(e){return[e]};function M(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"div",13)(1,"span"),t._uU(2),t.qZA(),t.TgZ(3,"span"),t._uU(4),t.qZA(),t.TgZ(5,"span"),t._uU(6),t.qZA(),t.TgZ(7,"span")(8,"input",15,16),t.NdJ("click",function(){const l=t.CHM(n).$implicit,r=t.MAs(9),v=t.oxw(2),S=t.MAs(7);return t.KtG(v.absentStudent(r.id,S.value,l.userId))}),t.qZA()()()}if(2&e){const n=i.$implicit,o=i.index;t.xp6(2),t.hij("",o+1,"."),t.xp6(2),t.Oqu(n.userId),t.xp6(2),t.Oqu(n.name),t.xp6(2),t.Q6J("id","attendanceValue"+t.VKq(5,m,o))("checked",n.absent)}}function O(e,i){if(1&e&&(t.TgZ(0,"div")(1,"div",13)(2,"span"),t._uU(3,"Sr No."),t.qZA(),t.TgZ(4,"span"),t._uU(5,"Student Id"),t.qZA(),t.TgZ(6,"span"),t._uU(7,"Name"),t.qZA(),t.TgZ(8,"span"),t._uU(9,"Mark If Absent"),t.qZA()(),t.YNc(10,M,10,7,"div",14),t.qZA()),2&e){const n=t.oxw();t.xp6(10),t.Q6J("ngForOf",n.filterStudentList)}}const P=[{path:"",component:(()=>{class e{constructor(n,o){this.schoolService=n,this.userService=o,this.showCourseList=!0}ngOnInit(){this.profile(),this.getStudentList()}profile(){this.schoolService.viewProfile().subscribe(n=>{this.lmsCourseList=n.result.lmsCourse})}getStudentList(){this.allStudentList=[],this.schoolService.getSchoolStudent().subscribe(n=>{this.allStudentList=n.result},n=>{console.log(n.error.message)})}getFilterStudent(n,o){if(n){this.filterStudentList=[];for(let c=0;c<this.allStudentList.length;c++)this.allStudentList[c].lmsCourse.includes(o)&&(this.filterStudentList.push(this.allStudentList[c]),this.allStudentList[this.filterStudentList.length-1].absent=this.filterStudentList[this.filterStudentList.length-1].absentDate.includes(n)?"checked":"")}else alert("Please select a valid date"),document.getElementById("lmscourse").value=""}absentStudent(n,o,c){var l=document.getElementById(n);console.log(n),1==l.checked?this.schoolService.absentStudent({date:o,userId:c}).subscribe(r=>{console.log(r)}):this.schoolService.presentStudent({date:o,userId:c}).subscribe(r=>{console.log(r)})}dateChange(n){this.userService.getDate(n).subscribe(o=>{"Off"==o.result.type?(alert("Not a working day, Please select diffrent date to mark attendance"),this.showCourseList=!1,this.filterStudentList=[]):(this.showCourseList=!0,document.getElementById("lmscourse").value="",this.getStudentList(),this.filterStudentList=[])})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(p.E),t.Y36(f.K))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-attendance"]],decls:14,vars:3,consts:[[1,"filter-student"],[1,"filter"],[1,"form-grp"],["type","date","required","",3,"change"],["date",""],["class","form-grp",4,"ngIf"],[1,"student"],[4,"ngIf"],["id","lmscourse","required","",3,"change"],["lmscourse",""],["disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"filterStudent"],["class","filterStudent",4,"ngFor","ngForOf"],["type","checkbox","value","Yes",3,"id","checked","click"],["checkbox",""]],template:function(n,o){if(1&n){const c=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"h2"),t._uU(3,"Mark Attendance"),t.qZA(),t.TgZ(4,"form")(5,"div",2)(6,"input",3,4),t.NdJ("change",function(){t.CHM(c);const r=t.MAs(7);return t.KtG(o.dateChange(r.value))}),t.qZA(),t.TgZ(8,"label"),t._uU(9,"Select date"),t.qZA()(),t.YNc(10,C,7,1,"div",5),t.qZA()(),t.TgZ(11,"div",6),t.YNc(12,h,4,1,"p",7),t.YNc(13,O,11,1,"div",7),t.qZA()()}2&n&&(t.xp6(10),t.Q6J("ngIf",o.showCourseList),t.xp6(2),t.Q6J("ngIf",o.filterStudentList),t.xp6(1),t.Q6J("ngIf",o.filterStudentList))},dependencies:[g.sg,g.O5,d._Y,d.YN,d.Kr,d.JL],styles:[".filter-student[_ngcontent-%COMP%]{min-height:100vh;min-width:100%;background:linear-gradient(135deg,rgba(0,0,255,.3),rgba(0,0,255,.45)),url(bg-2.a24ac65a08650bca.png);background-position:center;background-size:cover;background-attachment:fixed;padding:50px}h2[_ngcontent-%COMP%]{font-size:30px;font-weight:700;color:#ffc300;margin-bottom:16px}.course[_ngcontent-%COMP%]{margin-bottom:50px}.course[_ngcontent-%COMP%]   .course-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.course[_ngcontent-%COMP%]   .course-list[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;min-width:150px;padding:10px 20px;margin-right:20px;margin-bottom:20px;background:#0000ff;color:#fff;text-align:center;border-radius:4px;font-size:30px;font-weight:700;cursor:pointer}.course[_ngcontent-%COMP%]   .course-list[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{outline:none;padding:10px;border-radius:4px;border:1px solid #4d4d4d;font-size:20px;font-weight:500}.filter[_ngcontent-%COMP%]{margin-bottom:50px}.filter[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:500px;background:rgba(255,255,255,.6);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:0 10px 10px -5px #99f;padding:20px;border-radius:20px;max-width:500px}.filter[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-grp[_ngcontent-%COMP%]{height:60px;position:relative;margin-bottom:10px}.filter[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-grp[_ngcontent-%COMP%]:last-child{margin-bottom:0}.filter[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-grp[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:100%;width:100%;background:rgba(77,77,77,.1);padding-top:20px;padding-left:10px;border:none;outline:none;font-size:20px;font-weight:500}.filter[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-grp[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}.filter[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-grp[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:transparent}.filter[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-grp[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus + label[_ngcontent-%COMP%], .filter[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-grp[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:placeholder-shown) + label[_ngcontent-%COMP%]{top:10px;font-size:14px;transition:all .3s}.filter[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-grp[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{height:100%;width:100%;background:rgba(77,77,77,.1);padding-top:20px;padding-left:10px;border:none;outline:none;font-size:20px;font-weight:500}.filter[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-grp[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:valid + label[_ngcontent-%COMP%]{top:10px;font-size:14px;transition:all .3s}.filter[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-grp[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;display:block;top:50%;left:10px;transform:translateY(-50%);transition:all .3s;pointer-events:none;-webkit-user-select:none;user-select:none;font-size:18px;font-weight:500;color:#00f}.filter[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#0000ff;color:#fff;width:180px;padding:10px;font-weight:700;border:none;outline:none}.filter[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:disabled{filter:opacity(.6);cursor:not-allowed}.filter[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:20px;font-size:30px}.student[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .student[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:30px;font-weight:700;color:#00f;margin-bottom:8px;color:#ffc300}.student[_ngcontent-%COMP%]   .filterStudent[_ngcontent-%COMP%]{background:rgba(255,255,255,.6);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);padding:20px;border-radius:20px;margin-bottom:10px}.student[_ngcontent-%COMP%]   .filterStudent[_ngcontent-%COMP%]:first-child   span[_ngcontent-%COMP%]{font-weight:700;font-size:20px;color:#000}.student[_ngcontent-%COMP%]   .filterStudent[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;font-size:18px;font-weight:500}.student[_ngcontent-%COMP%]   .filterStudent[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1){width:100px}.student[_ngcontent-%COMP%]   .filterStudent[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){width:25%}.student[_ngcontent-%COMP%]   .filterStudent[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){width:calc(50% - 100px)}.student[_ngcontent-%COMP%]   .filterStudent[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(4){width:25%}"]}),e})()}];let x=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[u.Bz.forChild(P),u.Bz]}),e})(),b=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[g.ez,x,d.UX]}),e})()}}]);